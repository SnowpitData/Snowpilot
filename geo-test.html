<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<title>SnowPilot 3D</title>
<style>
  html, body, #viewDiv {
    padding: 0;
    margin: 0;
    height: 90%;
    width: 90%;
  }
</style>
  <link rel="stylesheet" href="https://js.arcgis.com/4.6/esri/css/main.css">

  
  
</head>
<body>
	<script src="https://js.arcgis.com/4.6/"></script>
	  <script>
	require([
	  "esri/Map",
	  "esri/views/SceneView",
	  "esri/layers/FeatureLayer",
	  "dojo/domReady!"
	], function(Map, SceneView, FeatureLayer) {
  
	  var map = new Map({
	    basemap: "topo",
		ground: "world-elevation"
	  });

	 // SnowPilot (Points)
	  var featureLayer = new FeatureLayer({
	    url: "https://services3.arcgis.com/8qvQwgoMDmNYx8L0/arcgis/rest/services/SnowPilot_Data_Feed_Repo/FeatureServer",
	    outFields: ["Pit_Name","converted"],
	    popupTemplate: {
	      title: "{Pit_Name}",
		  content: [{
	            // You can set a media element within the popup as well. This
	            // can be either an image or a chart. You specify this within
	            // the mediaInfos. The following creates a pie chart in addition
	            // to two separate images. The chart is also set up to work with
	            // related tables. Similar to text elements, media can only be set within the content.
	            type: "media",
	            mediaInfos: [{
	              title: "",
	              type: "image",
	              value: {
	                sourceURL: "{Pit_Image_URL}"
	              }
	            }]
	          }, {
	            // You can set a attachment element(s) within the popup as well.
	            // Similar to text and media elements, attachments can only be set
	            // within the content. Any attachmentInfos associated with the feature
	            // will be listed in the popup.
	            type: "attachments"
	          }]
	    },
	
	  });
  
  
	  map.add(featureLayer);

	  var view = new SceneView({
	    container: "viewDiv",  
	    map: map
	  });
  
	  view.then(function(){
	    view.goTo({
	      center: [-106.2935,38.5],
	      zoom: 8,
	      tilt: 35
	    })
	  });

	});</script>
  <div id="viewDiv"></div>
</body>
</html> 